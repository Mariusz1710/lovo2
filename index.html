<script>
function f(numbers)
{
	if(numbers.length > 100000000)
	{
		alert("Tablica jest za dużych rozmiarów");
		return;
	}

	for(let i=0; i<numbers.length; i++)
	{
		if(numbers[i] > 1000000000 || numbers[i] < 0)
		{
			alert("Tablica posiada elementy o niewłaściwym rozmiarze");
		}

	}

	var arrays = [[]];
	arrays[0][0] = numbers[0];											
	var current = [];
	for(n=1; n<numbers.length; n++)
	{
		let a = arrays.length;
		current = [];
		let max = 0;
		for(i=0; i<a; i++)									
		{
			let e = arrays[i].length;
			if(numbers[n] < arrays[i][0])
			{
				let arr = [numbers[n]];
					if(arr.length >= max)
					{
						max = arr.length;
						current = arr;
					}
			}
			else if(numbers[n] > arrays[i][e-1])
			{
				arrays[i].push(numbers[n]);
			}
			else if(e > 1 && numbers[n] > arrays[i][e-2])
			{
				arrays[i][e-1] = numbers[n];
			}
			else if(e > 2)
			{
				for(k=e-3; k>-1; k--)
				{
					if(numbers[n] > arrays[i][k])
					{
						let temp = arrays[i].slice(0,k+1);
						temp.push(numbers[n]);
						if(temp.length >= max)
						{
							max = temp.length;
							current = temp;
						}
					}
				}
			}
		}
		
		if(current.length!=0)
		{
			arrays.push(current);
		}
	}

	let max = 0;
	let place = 0;

	for(let j=0; j<arrays.length; j++)
	{
		if(arrays[j].length > max)
		{
			max = arrays[j].length;
			place = j;
		}

	}

	return arrays[place];
}


</script>
